<mujoco>
  <compiler angle="degree" meshdir="./mesh" texturedir="./textures"/>
  <option timestep="0.002" gravity="0 0 -9.81" integrator="implicit" />
  <worldbody>
    <body name="Chassis" pos="0.049248479306697845 -0.8781553506851196 0.23883554339408875" quat="0.0 -0.707 0.0 -0.7071">
      <inertial mass="0.70" pos="0.0 0.0 0.0"/>
      <geom type="mesh" name="Chassis geom" mesh="ChassisMesh" rgba="1.0 1.0 1.0 1.0" />
      <joint type="free" name="floating_joint"/>

      <body name="Battery" pos="0.003164539346471429 0.040499866008758545 0.0" quat="0.5 0.5 -0.5 -0.5">
        <inertial mass="0.59" pos="0.0 0.0 0.0"/>
        <geom type="mesh" name="Battery geom" mesh="BatteryMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      <body name="Display" pos="0.10516458004713058 -0.06546413898468018 0.0" quat="0.45 0.5 -0.5 0.5">
        <inertial mass="0.55" pos="0.0 0.0 0.0"/>
        <geom type="mesh" name="Display geom" mesh="DisplayMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      <body name="Driver" pos="-0.110493965446949 0.0 0.0" quat="0.5 0.5 -0.5 -0.5">
        <inertial mass="0.40" pos="0.0 0.0 0.0"/>
        <geom type="mesh" name="Driver geom" mesh="DriverMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      <body name="Glass" pos="0.0031645542476326227 0.06499987840652466 0.0" quat="0.5 -0.5 -0.5 0.5">
        <inertial mass="1.450" pos="0.0 0.0 0.0"/>
        <geom type="mesh" name="Glass geom" mesh="GlassMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      
      
      <body name="IMU" pos="-0.10333553701639175 0.0 0.0" quat="0.5 0.5 -0.5 -0.5" >
        <geom type="mesh" name="IMU geom" mesh="Sphere" rgba="1.0 1.0 1.0 1.0"  />
        <site name="FRAME"/>
      </body>
      
      
      <body name="Motors" pos="-0.1923355758190155 0.0 0.0" quat="1.0 0.0 0.0 0.0">
        <inertial mass="2.26" pos="0.0 0.0 0.0"/>
        <geom type="mesh" name="Motors geom" mesh="MotorsMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      <body name="MotorSupports" pos="-0.15333551168441772 0.0 0.10749990493059158" quat="0.5 -0.5 0.5 0.5" >
        <geom type="mesh" name="MotorSupports geom" mesh="MotorSupportsMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      <body name="STM" pos="-0.13333551585674286 0.0 0.0" quat="0.5 0.5 -0.5 0.5">
        <inertial mass="0.07" pos="0.0 0.0 0.0"/>
        <geom type="mesh" name="STM geom" mesh="STMMesh" rgba="1.0 1.0 1.0 1.0"  />
      </body>
      
      <!-- Rivedere i momenti di inerzia delle ruote -->
      <body name="WheelL" pos="-0.1923355609178543 0.0 -0.14149940013885498" quat="0.7071 0.0 0.0 -0.7071">
        <inertial mass="0.134" pos="0.0 0.0 0.0" diaginertia="0.00014 0.00014 0.00026"/>
        <joint name="left_wheel_joint" type="hinge" axis="0 0 1" damping="0.2" armature="5.3e-05"/>
        <geom type="mesh" name="WheelL geom" mesh="WheelLMesh" rgba="1.0 1.0 1.0 1.0"/>
      </body>
    
      <body name="WheelR" pos="-0.1923356056213379 0.0 0.14149805903434753" quat="0.7071 0.0 0.0 -0.7071">
        <inertial mass="0.134" pos="0.0 0.0 0.0" diaginertia="0.00014 0.00014 0.00026"/>
        <joint name="right_wheel_joint" type="hinge" axis="0 0 1" damping="0.2" armature="5.3e-05"/>
        <geom type="mesh" name="WheelR geom" mesh="WheelRMesh" rgba="1.0 1.0 1.0 1.0"/>
      </body>
    
    </body>
  </worldbody>

  <asset>
    <mesh name="ChassisMesh" file="ChassisMesh.obj"/>
    <mesh name="BatteryMesh" file="BatteryMesh.obj"/>
    <mesh name="DisplayMesh" file="DisplayMesh.obj"/>
    <mesh name="DriverMesh" file="DriverMesh.obj"/>
    <mesh name="GlassMesh" file="GlassMesh.obj"/>
    <mesh name="Sphere" file="Sphere.obj"/>
    <mesh name="MotorsMesh" file="MotorsMesh.obj"/>
    <mesh name="MotorSupportsMesh" file="MotorSupportsMesh.obj"/>
    <mesh name="STMMesh" file="STMMesh.obj"/>
    <mesh name="WheelLMesh" file="WheelLMesh.obj"/>
    <mesh name="WheelRMesh" file="WheelRMesh.obj"/>
  </asset>

  <actuator>
    <velocity name="left_motor" joint="left_wheel_joint"
              ctrlrange = "-8.775 8.775"
              forcerange = "-2.5 2.5"
              kv = "25"
              ctrllimited = "true"
              forcelimited = "true"/>
    <velocity name="right_motor" joint="right_wheel_joint"
              ctrlrange = "-8.775 8.775"
              forcerange = "-2.5 2.5"
              kv = "20"
              ctrllimited = "true"
              forcelimited = "true"/>
  </actuator>

  <sensor>
    <!--  Indices 0, 1, 2-->
    <accelerometer noise="0.04" site="FRAME" name="accelerometer"/> <!-- 0.04 m/s^2 -->
    <!-- Indices 3, 4, 5 -->
    <gyro noise="0.00175" site="FRAME" name="gyroscope"/> <!-- 0.05 Â°/s -> 0.00175 rad/s -->
    <!-- Indices 6, 7 -->
    <jointpos name="left_wheel_pos" joint="left_wheel_joint"/>
    <jointpos name="right_wheel_pos" joint="right_wheel_joint"/>
    <!-- Indices 8, 9 -->
    <jointvel name="left_wheel_vel" joint="left_wheel_joint"/>
    <jointvel name="right_wheel_vel" joint="right_wheel_joint"/>
  </sensor>

</mujoco>
